<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/mystyle.css">
<script src="../js/jquery-3.6.0.min.js" type="text/javascript"></script>
<script src="../js/jquery.serializejson.min.js"></script>

<script>
$(function() {
	$('#btn1').on('click', function () {
		$.ajax({
			url : 'dbformdata.jsp',
			type : 'post',
			data : $('form').serializeJSON(), //여기서 data형태의 객체를 만들고 밑에서 name을 받아오는 거야 근데 jsp랑 아이디가 똑같아야지 읽혀오는 거야
			success : function(res) {
				str = res.id;
				$('#result1 div').html(str).css('font-size', '2.0em'); 
			},
			error : function(xhr) {
				alert("상태" + xhr.status); //200 : 성공이지만 json형태가 틀린 거.jsp에서 수정, 404, 500
			},
			dataType : 'json'
		})
	})
})
</script>
</head>
<body>

<div class="box">  

	
    <br><br>
    <div id="result1">
      <form>
      	아이디 <input type="text" name="id" id="id"><br> <!-- serialize할거면 name 꼭 있어야돼 -->
      	이름 <input type="text" name="name" id="name"><br>
      	주소 <input type="text" name="addr" id="addr"><br>
      	전화번호 <input type="text" name="tel" id="tel"><br>
      	이메일 <input type="text" name="email" id="email"><br>
      	
      	<input type="button" value="확인" id="btn1">
      </form>
      <div></div>
    </div>
</div>   
</body>
</html>